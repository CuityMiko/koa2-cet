# cet
英语四六级无准考证查询，也支持有准考证查询
# 核心技术
使用php代理的方式实现四六级成绩的查询，其中php使用了curl相关操作去学信网抓取数据。然后前台使用jq post来获取后台返回的数据，并将数据写回到静态页面里。

# 技术优势
1.无准考证查询和有准考证查询都在一个页面里，查询操作用了ajax，查询结果以淡入淡出的模态框的形式展现。整个查询流程无任何页面跳转，极大地提高了用户的体验度。

2.使用了memcached缓存技术，如果用户已经查找过信息，则直接从缓存里获取数据，无需访问数据库，极大地缓解了数据库的压力，而且提供了查询速度。

3.前台使用了ajax技术及定时器来获取查询过信息的用户的数量。由于数据量很小，所以优先选择了文件存储的方式，而不是数据库，极大地节约了资源。

4.采用了面向对象的方式，对查询的业务逻辑封装成了一个类。入口处只需调用该类对外的公共方法即可，完美地体现了封装性。

5.前台使用了bootstrap框架，兼容pc和移动端。显示效果很佳。

6.服务器设置了请求来源仅限于本域名，以及只有在ajax请求的情况下才能处理业务逻辑，完美地防止了别人的模拟请求。

# 项目目录结构介绍
asset目录下放了资源文件，比如css，js，图片等等。

info目录下存放了用来统计查询过信息的用户数量的文件。

lib目录下放的是整个查询流程处理业务逻辑的后台文件。各个文件的介绍如下：

  Curl.class.php  ---- 进行curl操作的核心类，对post请求和get请求的方法对外开放，外部只需要直接调用该方法即可。
  
  Memcached.class.php   ----- 进行缓存操作的核心类，对set和get方法对外开放。
  
  Cet.class.php         ----- 进行四六级查询的核心类
  
  count.php             ----- 负责后台统计查询次数，返回json数据
  
  query.php             ------接收前台用户填写的表单信息，然后调用Cet类的方法，返回json数据
  
  
index.html    -------项目入口文件，纯静态
  
# 使用说明

1.由于使用了__autoload自动加载的方法，该方法为php新特性，因此需要php version>5.5的方可正常运行。

2.必须得开启curl扩展，并且安装相关的依赖。具体怎样安装网上也有很多教程。

3.必须得开始memcached扩展，并安装memcached服务。具体怎样安装网上也有很多教程。

# 测试地址

 目前该项目已上线，可通过 http://leshen.applinzi.com/cet/  测试。
 效果如下：
 
